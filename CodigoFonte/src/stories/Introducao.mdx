import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Guideline/IntroduÃ§Ã£o" />

# Plataforma Educacional Dhedalos

## ğŸ¯ VisÃ£o Geral

O **Dhedalos Hub** Ã© uma plataforma educacional completa desenvolvida em Next.js, projetada para conectar facilitadores e participantes em um ambiente de aprendizado digital. A aplicaÃ§Ã£o oferece recursos robustos para gerenciamento de turmas, atividades, agendamentos e interaÃ§Ãµes em tempo real.

## ğŸ’¡ PropÃ³sito

A plataforma foi criada para democratizar o acesso Ã  educaÃ§Ã£o e capacitaÃ§Ã£o profissional, permitindo que:

- **Facilitadores** gerenciem turmas, avaliem atividades e acompanhem o progresso dos participantes
- **Participantes** acessem conteÃºdos educacionais, enviem atividades e participem de mentorias
- **Supervisores** monitorem e administrem mÃºltiplas turmas e facilitadores


## ğŸ” Sistema de AutenticaÃ§Ã£o

### Tipos de UsuÃ¡rios

A plataforma suporta trÃªs perfis de acesso distintos:

#### 1. **Participante** (Aluno)
- **Acesso**: Hub de participantes
- **Credencial**: CPF Ãºnico
- **PermissÃµes**: 
  - Visualizar conteÃºdo educacional
  - Enviar atividades e trabalhos
  - Agendar mentorias individuais ou em grupo
  - Participar de salas de aula virtuais
  - Acompanhar notas e feedback

#### 2. **Facilitador** 
- **Acesso**: Hub de facilitadores
- **Credencial**: CPF Ãºnico
- **PermissÃµes**: 
  - Gerenciar mÃºltiplas turmas e ciclos
  - Avaliar atividades com notas e feedback
  - Agendar e conduzir mentorias
  - Visualizar relatÃ³rios de participaÃ§Ã£o
  - Controlar presenÃ§a de participantes
  - Exportar dados de turmas

#### 3. **Supervisor**
- **Acesso**: Administrativo completo
- **Credencial**: CPF Ãºnico
- **PermissÃµes**: 
  - Todas as permissÃµes de facilitador
  - **Modo Participante**: visualizar plataforma como qualquer aluno
  - Administrar mÃºltiplas turmas simultaneamente
  - Acesso a dashboards e mÃ©tricas globais

### Fluxo de AutenticaÃ§Ã£o

1. **Login**
   - AutenticaÃ§Ã£o via CPF (usado como username e password)
   - IntegraÃ§Ã£o com NextAuth.js
   - Token JWT retornado pelo backend WordPress
   - SessÃ£o vÃ¡lida por 7 dias

2. **ProteÃ§Ã£o de Rotas**
   - **Rotas pÃºblicas**: login, pÃ¡ginas de curso
   - **Rotas protegidas**: validaÃ§Ã£o de sessÃ£o no servidor
   - Middleware automÃ¡tico de autenticaÃ§Ã£o

3. **SessÃ£o do UsuÃ¡rio**
   ```typescript
   interface Session {
     user: {
       id: number;
       user_display_name: string;
       user_email: string;
       role: string[];
       token: string;
       cpf: string;
     };
   }
   ```

### ğŸ­ Modo Participante

Recurso exclusivo para supervisores e facilitadores que permite:

- Visualizar a plataforma exatamente como um participante especÃ­fico vÃª
- Testar funcionalidades do ponto de vista do aluno
- Identificar problemas de UX e usabilidade
- **SeguranÃ§a**: sessÃ£o original preservada no localStorage
- Retorno seguro Ã  sessÃ£o original a qualquer momento
- Logs de todas as aÃ§Ãµes realizadas no modo participante

## ğŸš€ Funcionalidades Principais

### 1. Gerenciamento de Turmas

- VisualizaÃ§Ã£o de mÃºltiplas turmas e ciclos
- Troca rÃ¡pida de contexto entre turmas
- InformaÃ§Ãµes detalhadas: curso, facilitador, participantes
- Timeline de atividades e entregas

### 2. Sistema de Atividades

#### Envio (Participantes)
- Upload de mÃºltiplos formatos (PDF, imagens, documentos)
- Suporte para reenvio e correÃ§Ã£o
- HistÃ³rico de submissÃµes
- Status em tempo real

#### AvaliaÃ§Ã£o (Facilitadores)
- Interface intuitiva de correÃ§Ã£o
- Sistema de notas configurÃ¡vel
- Feedback textual rico
- VisualizaÃ§Ã£o lado a lado do trabalho

#### GestÃ£o (Supervisores)
- Dashboard com mÃ©tricas e estatÃ­sticas
- Filtros avanÃ§ados por turma, ciclo e status
- ExportaÃ§Ã£o de relatÃ³rios
- Acompanhamento de prazos

### 3. Agendamento de Mentorias

- **Tipos de reuniÃ£o**: 
  - Individual (1-on-1 com facilitador)
  - Em Grupo (mÃºltiplos participantes)
- CalendÃ¡rio interativo com slots disponÃ­veis
- ConfirmaÃ§Ã£o automÃ¡tica por e-mail
- IntegraÃ§Ã£o com sistema de videoconferÃªncia
- GestÃ£o de conflitos de horÃ¡rio

### 4. Salas Virtuais

- **Sala de Aula**: ambiente para turma completa
- **Mentoria Individual**: sala privada 1-on-1
- IntegraÃ§Ã£o com plataforma de videoconferÃªncia
- Gerenciamento automÃ¡tico de credenciais
- Links de acesso seguro e temporÃ¡rio

### 5. Controle de ParticipaÃ§Ã£o

- MarcaÃ§Ã£o de presenÃ§a em atividades sÃ­ncronas
- Registro de entregas de atividades assÃ­ncronas
- Tabela interativa com filtros
- ExportaÃ§Ã£o de dados
- NotificaÃ§Ãµes via WhatsApp

## ğŸ”§ Arquitetura de ServiÃ§os

### Backend For Frontend (BFF)

Camada proxy segura em `src/app/api/` que:

- Protege credenciais e tokens
- Valida sessÃµes do lado do servidor
- Transforma dados entre formatos
- Centraliza lÃ³gica de negÃ³cio
- Gerencia cache e otimizaÃ§Ãµes

**Principais serviÃ§os:**
- `ClassService`: Dados de turmas e ciclos
- `SubmissionService`: SubmissÃµes de atividades
- `CycleService`: Ciclos educacionais
- `ParticipantModeLogs`: Auditoria de aÃ§Ãµes

## ğŸ“Š Gerenciamento de Estado

### Context Providers

1. **UserProvider**: Contexto global do usuÃ¡rio
   - Dados da turma ativa
   - ConfiguraÃ§Ãµes de tema
   - Estado de erro global

2. **SessionProvider**: Gerencia sessÃ£o NextAuth
   - RenovaÃ§Ã£o automÃ¡tica de token
   - SincronizaÃ§Ã£o entre abas

3. **SubmissionsProvider**: Cache de submissÃµes
   - OtimizaÃ§Ã£o de requisiÃ§Ãµes
   - AtualizaÃ§Ã£o em tempo real

## ğŸ§ª Testes

Cobertura abrangente com mÃºltiplas estratÃ©gias:

### Testes UnitÃ¡rios
- Componentes isolados
- Hooks customizados
- FunÃ§Ãµes utilitÃ¡rias

### Testes de IntegraÃ§Ã£o
- Fluxos completos de usuÃ¡rio
- InteraÃ§Ã£o entre componentes
- ValidaÃ§Ã£o de APIs

### Ferramentas
- **Jest**: Runner principal
- **React Testing Library**: Testes de componentes
- **Vitest**: Testes rÃ¡pidos com Vite
- **Storybook Test**: Testes visuais

### Estrutura de DiretÃ³rios

```
src/
â”œâ”€â”€ app/                          # App Router do Next.js
â”‚   â”œâ”€â”€ (protected-routes)/      # Rotas autenticadas
â”‚   â”œâ”€â”€ (public-routes)/         # Rotas pÃºblicas
â”‚   â”œâ”€â”€ api/                     # API Routes (BFF)
â”‚   â”œâ”€â”€ providers/               # Context Providers
â”‚   â””â”€â”€ services/                # Camada de serviÃ§os
â”œâ”€â”€ components/                   # Componentes React reutilizÃ¡veis
â”œâ”€â”€ types/                        # TypeScript interfaces e types
â”œâ”€â”€ utils/                        # FunÃ§Ãµes utilitÃ¡rias
â”œâ”€â”€ hooks/                        # Custom React hooks
â””â”€â”€ stories/                      # DocumentaÃ§Ã£o Storybook
```


## ğŸ³ Deployment

### Docker

Build otimizado em mÃºltiplos estÃ¡gios:

```dockerfile
# Standalone output do Next.js
# Menor tamanho de imagem
# Health checks configurados
# Suporte AWS e OKE
```

## ğŸ› ï¸ Modo de ManutenÃ§Ã£o

Sistema configurÃ¡vel de manutenÃ§Ã£o programada:

- AtivaÃ§Ã£o via backend
- PÃ¡ginas customizadas por projeto
- Mensagens especÃ­ficas para usuÃ¡rios
- Modo de bypass para administradores

## ğŸ“š Componentes Documentados

Todos os componentes possuem stories no Storybook com:

- **Props documentadas**: tipos, descriÃ§Ãµes e valores padrÃ£o
- **Exemplos interativos**: playground para teste
- **VariaÃ§Ãµes**: diferentes estados e configuraÃ§Ãµes
- **Acessibilidade**: validaÃ§Ã£o automÃ¡tica
- **Testes visuais**: chromatic integration

---

## ğŸš€ Como ComeÃ§ar

1. **Instale as dependÃªncias**
   ```bash
   npm install
   ```

2. **Configure as variÃ¡veis de ambiente**
   ```bash
   cp .env.example .env
   ```

3. **Rode o ambiente de desenvolvimento**
   ```bash
   npm run dev
   ```

4. **Acesse o Storybook**
   ```bash
   npm run storybook
   ```

---

Esta plataforma representa uma soluÃ§Ã£o completa para educaÃ§Ã£o digital, combinando tecnologias modernas com uma arquitetura escalÃ¡vel, segura e manutenÃ­vel.
